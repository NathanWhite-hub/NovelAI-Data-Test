# NovelAI-Data-Test

This project was created in Python using the Playwright API framework for the NovelAI community after noticing people manually testing Author Note data to see what the AI would output. At the request of NovelAI community member Basileus, I created this program with the purpose to automate the full process testing within a specified story then collecting that data for storage and analysis. This was a quick little project that was extremely fun to do and has been used by a few other members in the community to gather data from the AI.

A special thanks to the developers at https://playwright.dev/

## The Outline

The script starts by logging into the user's NovelAI account. The user needs to specify their email and password information within the designated variables novel_email and novel_pass. This is due to Playwright launching the browser in a Chromium browser context, which won't have NovelAI autologin due to the cookies not being stored. Once the script logins the user, it selects the specified story which is defined in the page.click("text=STORY NAME HERE") function argument.

The user will replace the "STORY NAME HERE" text with exact title of the story they are testing on (note: this is case sensitive). The number of passes specified in the for loop will do the next by a default of five times, esentially doing five tests one after another. The script begins clicking the button that contains the text "Send" every three seconds for sixty seconds. This is calculated by the for loop with a range of 21. If the user wishes to change this, change the 21 to the desired number of seconds, then divide that number by three. This is to compenstate for the loop sleeping (waiting) for three seconds, meaning it will run through the loop 21 times, but each time it will wait for three seconds which totals out to a sixty seconds.

After the for loop finishes, the script queries all text with the element selector .aiText, which is the text generated by the AI. Text that the user types in will not have this selector and will not be queried, so don't if a user has a writing prompt at the top, it will not be scraped.

After the AI's output is queried, it is then written to a text file defined as "ai_test_" and then the pass that it is on. The script then resets the story by cycling through a for loop identical to when wrote the ai text to the file and clicks the button containing the text undo. This will remove all AI generated text so that either the next pass can begin fresh or the passes are finished (script ends) with a clean story free of AI output text.

## Use
To use, download the script and load it in your favorite Python supported editor. If you don't have Python installed, go to the below links and install the latest version for your operating system. While installing, check the box to install pip as well:
**Windows** https://www.python.org/downloads/windows/
**MacOS:** https://www.python.org/downloads/mac-osx/

After that is done, load up your favorite editor. I personally use Visual Studio Code, but if you wish to use another editor, look up a tutorial to access the terminal of your editor if it has one. If not, feel free to run the below commands in your Command Prompt or Terminal (if you're on MacOS).

In the terminal window run the following commands:
```
pip install playwright
playwright install
```

This will install the Playwright library onto your system for use. Once that is done, you should be all set. Feel free to refer to https://playwright.dev/python/docs/1.12.0/intro for further information on installation. Happy testing!
